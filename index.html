<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" name="viewport">
    <title>Infestation - Jogo Multiplayer</title>
    <link rel="stylesheet" href="style.css" type="text/css">
    <style>
        /* EvoWorld Style Main Menu */
        body {
            font-family: Arial, sans-serif;
            background: linear-gradient(135deg, #1a1a2e 0%, #16213e 100%);
            color: white;
            overflow: hidden;
        }

        #mainMenuOverlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(135deg, #0f3460 0%, #1a1a2e 100%);
            display: flex;
            z-index: 9999;
        }

        .main-menu-left {
            flex: 1;
            padding: 40px;
            display: flex;
            flex-direction: column;
            justify-content: center;
        }

        .main-menu-right {
            flex: 1;
            padding: 40px;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: flex-end;
        }

        .game-title {
            font-size: 4em;
            font-weight: bold;
            color: #2ecc71;
            text-shadow: 3px 3px 10px rgba(0, 0, 0, 0.8);
            margin-bottom: 20px;
        }

        .game-subtitle {
            font-size: 1.5em;
            color: #ecf0f1;
            margin-bottom: 30px;
        }

        .auth-buttons {
            display: flex;
            gap: 15px;
            margin-bottom: 30px;
        }

        .btn-primary {
            background-color: #2ecc71;
            color: white;
            border: none;
            padding: 15px 40px;
            font-size: 1em;
            font-weight: bold;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s;
        }

        .btn-primary:hover {
            background-color: #27ae60;
            transform: scale(1.05);
        }

        .btn-secondary {
            background-color: #3498db;
            color: white;
            border: none;
            padding: 15px 40px;
            font-size: 1em;
            font-weight: bold;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s;
        }

        .btn-secondary:hover {
            background-color: #2980b9;
            transform: scale(1.05);
        }

        .info-box {
            background: rgba(255, 255, 255, 0.1);
            border: 1px solid #2ecc71;
            border-radius: 8px;
            padding: 20px;
            margin-bottom: 20px;
            backdrop-filter: blur(10px);
        }

        .social-links {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 15px;
            margin-top: 30px;
        }

        .social-btn {
            background: rgba(255, 255, 255, 0.15);
            border: 1px solid #2ecc71;
            color: white;
            padding: 15px 20px;
            border-radius: 8px;
            text-decoration: none;
            text-align: center;
            font-weight: bold;
            transition: all 0.3s;
        }

        .social-btn:hover {
            background: #2ecc71;
            color: #0f3460;
        }

        .bottom-links {
            position: fixed;
            bottom: 20px;
            right: 20px;
            display: flex;
            gap: 15px;
        }

        .bottom-link {
            color: #ecf0f1;
            text-decoration: none;
            font-size: 0.9em;
            transition: color 0.3s;
        }

        .bottom-link:hover {
            color: #2ecc71;
        }

        .stats-display {
            background: rgba(46, 204, 113, 0.2);
            border: 2px solid #2ecc71;
            border-radius: 8px;
            padding: 20px;
            margin-top: 20px;
            text-align: center;
        }

        .stats-display h3 {
            margin: 0 0 10px 0;
            color: #2ecc71;
        }

        .hidden-element {
            display: none !important;
        }
    </style>
</head>
<body>

<canvas id="gameCanvas" tabindex="0" class="hidden-element"></canvas>
<input autocomplete="off" id="chatInput" placeholder="Pressione Enter para conversa..." type="text" class="hidden-element">

<div id="mainMenuOverlay">
    <div class="main-menu-left">
        <div class="game-title">‚öîÔ∏è Infestation</div>
        <div class="game-subtitle">Humanos vs Zumbis - Jogo Multiplayer em Tempo Real</div>
        
        <div id="authSection">
            <div class="auth-buttons">
                <button class="btn-primary" id="loginBtn">Entrar</button>
                <button class="btn-secondary" id="registerBtn">Criar Conta</button>
            </div>
        </div>

        <div id="playSection" class="hidden-element">
            <button class="btn-primary" id="playGameBtn">Jogar Agora</button>
            <p class="stats-display">
                <b>Logado como:</b> <span id="playerName">Guest</span><br>
                <span id="playerLevel">N√≠vel: 0</span>
            </p>
        </div>

        <div class="info-box">
            <h3>Como Jogar</h3>
            <p><b>WASD / Setas:</b> Movimento</p>
            <p><b>Clique Esquerdo:</b> Atacar/Usar item</p>
            <p><b>B:</b> Loja (apenas humanos)</p>
            <p><b>E:</b> Pegar/Largar item</p>
            <p><b>G:</b> Largar item</p>
        </div>
    </div>

    <div class="main-menu-right">
        <div class="info-box" style="max-width: 300px;">
            <h3>Bem-vindo ao Infestation! üéÆ</h3>
            <p>Um jogo de estrat√©gia e a√ß√£o em tempo real onde voc√™ pode:</p>
            <ul>
                <li>üßü Jogar como Humano ou Zumbi</li>
                <li>üíé Ganhar Gemas e Subir de N√≠vel</li>
                <li>üõçÔ∏è Comprar Itens na Loja</li>
                <li>üë• Competir Contra Outros Jogadores</li>
                <li>‚≠ê Desblocar Skins e Habilidades</li>
            </ul>
        </div>

        <div class="social-links">
            <a href="https://discord.gg/AZzAX2cQR7" target="_blank" class="social-btn">
                üí¨ Discord
            </a>
            <a href="https://www.youtube.com/@canalmegacode" target="_blank" class="social-btn">
                üì∫ YouTube
            </a>
        </div>
    </div>
</div>

<div id="menu-ui" class="hidden-element">
    <div id="menu-ui-container">
        <div class="menu-panel" id="instructions-panel">
            <h2>Instructions</h2>
            <ul>
                <li><span class="key">WASD / Arrow</span> - Movement keys</li>
                <li><span class="key">G</span> - Drop item</li>
                <li><span class="key">E</span> - Pick up item</li>
                <li><span class="key">B</span> - Buy items as a human</li>
                <li><span class="key">Z</span> - Teleport to Spawn as a zombie</li>
                <li><span class="key">Mouse Left Click</span> - Use item / Attack</li>
            </ul>
        </div>

        <div id="profileBallContainer"></div>

        <div class="modal hidden" id="loginModal">
            <div class="modal-content">
                <h2>Log in</h2>
                <label for="username"></label>
                <input id="username" placeholder="Usu√°rio" type="text">
                <label for="password"></label>
                <input id="password" placeholder="Senha" type="password">
                <div class="modal-buttons">
                    <button id="registerSubmitBtn">Create account</button>
                    <button id="loginSubmitBtn">log in</button>
                    <button id="closeModalBtn">Close</button>
                </div>
            </div>
        </div>

        <div class="generic-modal hidden" id="friendsModal">
            <div class="modal-box">
                <h2>Friends</h2>
                <label for="friendInput"></label>
                <input id="friendInput" placeholder="Nome do jogador" type="text">
                <button id="sendFriendRequestBtn">Submit Request</button>
                <h3>Friends</h3>
                <ul id="friendsList"></ul>
                <h3>Requests</h3>
                <ul id="requestsList"></ul>
                <button onclick="document.getElementById('friendsModal').classList.add('hidden')">Fechar</button>
            </div>
        </div>

        <div class="generic-modal hidden" id="settingsModal">
            <div class="modal-box">
                <h2>Settings</h2>
                <h3>Change nickname</h3>
                <label for="changeNameInput"></label>
                <input id="changeNameInput" placeholder="Novo nome" type="text">
                <button id="changeNameBtn">Change nickname</button>
                <h3>Change password</h3>
                <label for="changePassInput"></label>
                <input id="changePassInput" placeholder="Senha atual" type="password">
                <label for="newPassInput"></label>
                <input id="newPassInput" placeholder="Nova senha" type="password">
                <button id="changePassBtn">Change password</button>
                <h3>Change profile color</h3>
                <label for="changeColorInput"></label>
                <input id="changeColorInput" type="color">
                <button id="changeColorBtn">Change color</button>
                <h3>Change profile picture</h3>
                <input accept="image/*" id="changePhotoInput" type="file">
                <button id="changePhotoBtn">Change photo</button>
                <h3>Resgatar C√≥digo</h3>
                <button id="openRedeemBtn">Resgatar C√≥digo Bonus</button>
                <button onclick="document.getElementById('settingsModal').classList.add('hidden')">Fechar</button>
            </div>
        </div>

        <div class="hidden" id="chatFloating">
            <div id="chatHeader">Chat</div>
            <div id="chatFriends"></div>
            <div id="chatMessagesFloating"></div>
            <div id="chatInputBox">
                <label for="chatInputFloating"></label>
                <input id="chatInputFloating" placeholder="Digite uma mensagem..." type="text">
                <button id="sendChatFloating">Enviar</button>
            </div>
        </div>

        <!-- Sistema de Resgate de C√≥digo -->
        <div class="generic-modal hidden" id="redeemModal">
            <div class="modal-box">
                <h2>Resgatar C√≥digo</h2>
                <p>Digite o c√≥digo para ganhar b√¥nus:</p>
                <label for="redeemCodeInput"></label>
                <input id="redeemCodeInput" placeholder="C√≥digo aqui..." type="text">
                <button id="redeemSubmitBtn">Resgatar</button>
                <button onclick="document.getElementById('redeemModal').classList.add('hidden')">Fechar</button>
            </div>
        </div>
    </div>
</div>

<div class="bottom-links" id="bottomLinks">
    <a href="#" class="bottom-link" id="privacyLink">Pol√≠tica de Privacidade</a>
    <a href="#" class="bottom-link" id="contactLink">Contato</a>
</div>

<script src="/socket.io/socket.io.js"></script>
<script>
    const socket = io();
    
    // Controlar visibilidade do menu principal
    function showMainMenu() {
        document.getElementById('mainMenuOverlay').style.display = 'flex';
        document.getElementById('gameCanvas').classList.add('hidden-element');
        document.getElementById('chatInput').classList.add('hidden-element');
    }
    
    function hideMainMenu() {
        document.getElementById('mainMenuOverlay').style.display = 'none';
        document.getElementById('gameCanvas').classList.remove('hidden-element');
        document.getElementById('chatInput').classList.remove('hidden-element');
    }
    
    // Mostrar menu principal ao carregar
    window.addEventListener('load', showMainMenu);
</script>
<script src="menu.js"></script>
<script src="devMenu.js"></script>
<script src="game.js"></script>
</body>
</html>
